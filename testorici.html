<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/style.css">
<script type="text/javascript" src="js/user.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script type="text/javascript" src="js/cambistorici.js"></script>
<script src="js/plotly-latest.min.js"></script>


<head>
<title>Beccate sto graficazzo!</title>
</head>
<body>

  <div class="container">

    <!-- secondo box contenente l'interfaccia per la registrazione, inizialmente nascosto -->
    <div class="box1" id="box_reg" style="display: none">
      <div class="content" id="content" >

        <div id="registration">
          <h2>Completa il form per registrarti al sito.</h2>
          <!-- al click chiama la funzione registration() -->
          <form name="myform_reg" id="form_reg" onsubmit="registration(); return false;">
            Username:<br />
            <input type="text" name="username" id="uname" required><br />
            Password:<br />
            <input type="password" name="password" id="passw" required><br />
            <p></p>
            <input type="submit" value="Registrami">
            <!-- al click chiama la funzione hide_reg -->
            <input type="submit" value="Annulla" onclick="hide_reg(); return false;"></button>
          </form>
        </div>

      </div>
    </div>

    <!-- box contentente il convertitore di valute, l'altezza è fissata -->
    <div class="box1" style="height: 300px">
      <div class="content" id="content">
          <h2>Converti Valute</h2>
          <p>Strumento semplice per convertire le valute, nei principali cambi</p>
          <div class="flex-container">
            <div>
              <!-- organizzo il contenuto in una tabella -->
              <table class="table1">
                <tr>
                  <td>
                    Seleziona una valuta:
                  </td>
                </tr>
                <tr>
                  <td>
                    <select class="currencies" id="curr_1">
                      <!-- carico le options e seleziono il valore di default -->
                      <script type="text/javascript">
                      $("#curr_1").load("files/currencies.html", function(){
                        $("#curr_1").val("EUR");
                      });
                      </script>
                    </select>
                  </td>
                </tr>
                <div>
                  &nbsp;
                </div>
                <tr>
                  <td>
                    <input type="text" id="val1" name="val1" size="19"/>
                  </td>
                </tr>
              </table>
            </div>
            <div>
              <table class="table1">
                <tr>
                  <td>
                    Seleziona una valuta:
                  </td>
                </tr>
                <tr>
                  <td>
                    <select class="currencies" id="curr_2">
                      <script type="text/javascript">
                      $("#curr_2").load("files/currencies.html", function(){
                        $("#curr_2").val("USD");
                      });
                      </script>
                    </select>
                  </td>
                </tr>
                <div>
                  &nbsp;
                </div>
                <tr>
                  <td>
                    <input type="text" id="val2" name="val2" size="19"/>
                  </td>
                </tr>
              </table>
            </div>
            <div style="background: inherit;">
              <input type="submit" onclick="currencyconverter(); return false;" value="Converti" />
              <input type="submit" onclick="invert_curr(); return false;" value="Inverti" />
            </div>
          </div>
      </div>
    </div>

    <div>
		da quale data?
              <input id="giornobase" type="date"  value="2017-01-01" min="2010-01-01" max="2022-01-01"/>
              <input id="giorno" type="date"/>
    </div>

	<div id="GraficoStoricoValuta" style="width:830px;height:450px;"></div>
	<script>

	// max date uguale ad oggi
// 		var today = new Date();
// 		var dd = today.getDate();
// 		var mm = today.getMonth()+1; //zero è gennaio
// 		var yyyy = today.getFullYear();
// 		if(dd<10) {dd='0'+dd}
// 		if(mm<10) {mm='0'+mm}
// 		today = yyyy+'-'+mm+'-'+dd;
// 		document.getElementById("giornobase").setAttribute("max", today);
//
// 	//
// 		var inizio=document.getElementById("giornobase").value;
// 		document.getElementById("giorno").value = inizio;
// 		var inizioval=document.getElementById("val2").value;
//
// 		millgiorno= 86400000; // millisecondi in un giorno
// 		quantiValoriAsseX = 22;
//
// 		var dateAsseX = [];
// 		var stampaAsseX = [];
// 		var valoriAsseY = [];
// 		var temp=Date(inizio);
// 		stampaAsseX[0]=temp;
// 		console.log(stampaAsseX[0]);
// //		dateAsseX[0]=temp.getTime();
// 		valoriAsseY[0]=inizioval;
// 		console.log(inizioval);
// 		for (i=1;i<quantiValoriAsseX;) {
// 			dateAsseX[i]=dateAsseX[i-1]+millgiorno;
// 			stampaAsseX[i]=new Date(dateAsseX[i]);
// 			valoriAsseY[i]=i;
// 			}
		var stampaAsseXX =['2013-10-04 22:23:00', '2013-11-04 22:23:00', '2013-12-04 22:23:00'];
		var valoriAsseYY = [1, 3, 6];

		var data = [
		  {
		    x: ['2013-10-04 22:23:00', '2013-11-04 22:23:00', '2013-12-04 22:23:00'],
		    y: [1, 3, 6],
		    type: 'scatter'
		  }
		];

		Plotly.newPlot('GraficoStoricoValuta', data);
	</script>
      	</div>


    </div>

    </body>
</html>
